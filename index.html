<!DOCTYPE HTML>
<html lang="ru-RU">
<head>
    <meta charset="utf-8">
    <title>Talkrooms</title>
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, width=device-width">
    <link rel="stylesheet" href="/style/common.css">
    <link rel="stylesheet" href="/style/main.css">
    <link rel="stylesheet" href="/style/room.css">
    <link rel="stylesheet" href="/style/profile.css">
    <link rel="stylesheet" href="/style/settings.css">
    <link rel="stylesheet" href="/style/mobile.css" media="(max-width: 500px)">
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png">
</head>
<body>

<div id="hall" style="display: none;">
    <div class="hall-header"></div>
    <div class="hall-content">
        <h1><strong>Talkrooms</strong> — ваш чат в один клик</h1>
        <div class="hall-description">
            <p>Современные чаты, бесплатные, без&nbsp;рекламы, работают на&nbsp;планшетах и&nbsp;смартфонах. Создаются в&nbsp;один клик и&nbsp;не&nbsp;требуют настройки.</p>
        </div>
        <div class="hall-columns">
            <div class="hall-column hall-create">
                <div class="hall-card">
                <p class="hall-hint">Создайте свою чат-комнату и&nbsp;опубликуйте ссылку в&nbsp;социальной сети, блоге или форуме, чтобы пригласить собеседников. Войти смогут все, регистрация для этого не&nbsp;требуется. В&nbsp;комнатах есть настройка приватности, чтобы ограничить вход и&nbsp;скрыть переписку от&nbsp;посторонних.</p>
                <p class="hall-login">Чтобы создать свою комнату, войдите через
                    <a class="login-fb" href="/api/login/facebook">Фейсбук</a>,
                    <a class="login-vk" href="/api/login/vk">Вконтакте</a> или
                    <a class="login-ok" href="/api/login/ok">Одноклассники</a>
                </p>
                <p class="hall-action"><span class="link">Создать комнату</span></p>
                <p class="hall-failed">Количество новых комнат в день ограничено. Завтра сможете создать ещё.</p>
                </div>
            </div>
            <div class="hall-column hall-rooms">
                <div class="hall-card">
                    <p class="hall-more"><span class="link">Все мои комнаты</span></p>
                </div>
            </div>
            <div class="hall-column hall-shuffle">
                <div class="hall-card">
                <p class="hall-hint">Познакомьтесь с&nbsp;новыми людьми и&nbsp;обсудите неожиданные темы в&nbsp;одной из&nbsp;комнат, выбранной случайно.</p>
                <p class="hall-action"><span class="link">Случайная комната</span></p>
                <p class="hall-failed">К&nbsp;сожалению, в&nbsp;других комнатах сейчас нет&nbsp;собеседников. Так&nbsp;бывает, потому что&nbsp;сайт новый, и&nbsp;подходящих комнат пока мало.</p>
                </div>
            </div>
        </div>
    </div>
    <div class="talk-dummy"></div>
</div>

<div id="room">
<div class="room-entry">
    <div class="entry-text entry-lost">
        <h6>Комната не найдена</h6>
        <p class="hint">Возможно, у комнаты, в которую вы хотите зайти, изменился адрес. Подходящий момент, чтобы заглянуть в <span class="link entry-search">другую комнату</span>, выбранную случайно.</p>
    </div>
    <div class="entry-text search-failed">
        <h6>Нет подходящей комнаты</h6>
        <p class="hint">К&nbsp;сожалению, в&nbsp;других комнатах сейчас нет&nbsp;собеседников. Так&nbsp;бывает, потому что&nbsp;сайт новый, и&nbsp;подходящих комнат пока мало.</p>
        <p class="hint entry-back"><span class="link">Вернуться</span></p>
    </div>
    <div class="entry-text entry-login">
        <h6>Вход в комнату ограничен</h6>
        <p class="hint">В эту комнату могут войти только авторизованные посетители. Войдите через
            <a class="login-fb" href="/api/login/facebook">Фейсбук</a>,
            <a class="login-vk" href="/api/login/vk">Вконтакте</a> или
            <a class="login-ok" href="/api/login/ok">Одноклассники</a>
        </p>
    </div>
    <div class="entry-text entry-wait">
        <h6>Вход в комнату ограничен</h6>
        <p class="hint">Это закрытая комната, для входа нужно приглашение. Как только оно будет получено, вы войдёте в комнату автоматически без обновления страницы.</p>
    </div>
    <div class="entry-text entry-closed">
        <h6>Комната закрыта</h6>
        <p class="hint">Подходящий момент, чтобы заглянуть в <span class="link entry-search">другую комнату</span>, выбранную случайно.</p>
    </div>
    <div class="entry-text entry-deleted">
        <h6>Комната удалена</h6>
        <p class="hint"><span class="link entry-restore">Восстановить</span></p>
    </div>
</div>

<div id="side">
    <div class="side-scrollable">
        <div class="side-header">
            <h2 class="talkrooms"><a class="hall-link" href="/#">Talkrooms</a></h2>
            <div class="room-shuffle" title="Перейти в случайную комнату"></div>
        </div>
        <div class="room-users">
            <div class="users-group users-online">
                <h6 class="users-title">Сейчас в комнате <span class="users-amount"></span></h6>
                <div class="users-list"></div>
            </div>
            <div class="users-group users-requests">
                <h6 class="users-title">Ждут приглашения <span class="users-amount"></span></h6>
                <div class="users-list"></div>
            </div>
            <div class="users-group users-ignored">
                <h6 class="users-title">В игноре <span class="users-amount"></span></h6>
                <div class="users-list"></div>
            </div>
        </div>
    </div>
    <div class="room-create">
        <span class="create-link"><svg class="create-icon"><path d="M7.5,1 V14 M1,7.5 H14" fill="none" stroke="currentColor" stroke-width="3"/></svg>Создать комнату</span>
    </div>
</div>
<div id="talk">

    <div class="talk-header">
        <div class="placeholder">
            <div class="topic"></div>
        </div>
        <div class="sticky">

            <div class="content">
                <h1 class="topic"></h1>
                <div class="date">
                    <span class="date-text">&nbsp;</span>
                </div>
                <div class="toggle-side">
                <svg width="22" height="20">
                    <path d="M2,2 h18 m0,8 h-18 m0,8 h18" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round">
                </svg>
                </div>
            </div>

            <div class="room-settings-icon" title="Настройка комнаты">
            <svg width="24" height="24">
                <path fill-rule="evenodd" fill="currentColor" d="M24,12.89 L24,11.11 L20.19,9.57 L19.51,7.92 L21.12,4.15 L19.85,2.88 L16.08,4.49 L14.43,3.81 L12.89,0 L11.11,0 L9.57,3.81 L7.92,4.49 L4.15,2.88 L2.88,4.15 L4.49,7.92 L3.81,9.57 L0,11.11 L0,12.89 L3.81,14.43 L4.49,16.08 L2.88,19.85 L4.15,21.12 L7.92,19.51 L9.57,20.19 L11.11,24 L12.89,24 L14.43,20.19 L16.08,19.51 L19.85,21.12 L21.12,19.85 L19.51,16.08 L20.19,14.43 z M7.5,12 a4.5,4.5 0 1 0 9,0 a4.5,4.5 0 1 0 -9,0"/>
            </svg>
            </div>

            <div class="talk-controls">
            <div class="control toggle-for-me" title="Скрыть чужие разговоры">
                <svg width="24" height="24">
                    <path fill="currentColor" stroke="#e0b95b" d="M4.5,6.5 h12 l3.2,6 l-3.2,6 h-12 z"/>
                </svg>
            </div>
            <div class="control notifications" title="Звук нового сообщения в неактивном окне">
                <svg width="24" height="24">
                    <path d="M4.5,18 C6.5,16,7,13,7,9.25 C7,3,17,3,17,9.25 C17,13,17.5,16,19.5,18 z" class="contour" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                    <path d="M8.837,20 A3.5,3.5,0,0,0,15.163,20 z M10.94,4.56 a1.5,1.5,0,1,1,2.12,0 z" fill="currentColor"/>
                </svg>
            </div>
            </div>

        </div>
    </div>

    <div class="talk-messages">
        <div class="talk-previous">Показать предыдущие сообщения</div>
    </div>

    <form class="talk-edit">
        <textarea name="text" maxlength="1024"></textarea>
    </form>

    <form class="talk-reply">
        <div class="sticky">
            <div class="content">
                <div class="reply-send" title="Отправить">
                <svg width="90" height="58">
                    <path class="send-arrow" d="M31,24 l9,-9 l9,9 M40,15 v19 c0,4 -3,7 -7,7" fill="none" stroke="#999" stroke-width="2"/>
                    <circle class="send-spinner" cx="40" cy="29" r="12" stroke-dasharray="29 18" fill="none" stroke="#CCC" stroke-width="2">
                        <animateTransform attributeName="transform" type="rotate" from="0 40 29" to="360 40 29" dur="1s" repeatCount="indefinite"/>
                    </circle>
                </svg>
                </div>
                <div class="reply-wrapper">
                    <div class="userpic"></div>
                    <div class="reply-public" title="Сообщение для всех">&times;</div>
                    <div class="reply-recipient"></div>
                    <div class="reply-field">
                        <textarea name="text" maxlength="1024"></textarea>
                    </div>
                </div>
            </div>
        </div>
    </form>

</div>

<div class="popup" id="profile">
<div class="popup-scroll">
<div class="popup-content">
    <form class="section" id="profile-edit">
        <div class="my-photo">
            <a href="/" class="my-photo-update">Обновить фото</a>
        </div>
        <div class="textfield">
            <label for="my-nickname">Имя в этой комнате</label>
            <input type="text" id="my-nickname" maxlength="32">
        </div>
        <div class="textfield">
            <label for="my-status">Статус</label>
            <input type="text" id="my-status" maxlength="32">
        </div>
        <div class="submit">
            <button type="submit">Готово</button>
        </div>
    </form>
    <div class="section" id="profile-details">
        <div class="details-userpic"></div>
        <div class="details-nickname"></div>
        <div class="details-link"></div>
        <div class="details-private">Личное сообщение</div>
        <div class="button details-edit">Редактировать</div>
    </div>
    <div class="section" id="profile-roles">
        <div class="roles-current"></div>
        <form class="roles-list">
        <div class="role checkbox">
            <span class="checkbox-input"><input type="radio" name="profile-role" id="role-admin" value="70"></span>
            <label for="role-admin">Администратор</label>
            <p class="hint">Может менять название и адрес комнаты и назначать модераторов</p>
        </div>
        <div class="role checkbox">
            <span class="checkbox-input"><input type="radio" name="profile-role" id="role-moderator" value="50"></span>
            <label for="role-moderator">Модератор</label>
            <p class="hint">Следит за порядком, отправляя нарушителей в игнор</p>
        </div>
        <div class="role checkbox">
            <span class="checkbox-input"><input type="radio" name="profile-role" id="role-guest" value=""></span>
            <label for="role-guest">Посетитель</label>
        </div>
        </form>
    </div>
    <div class="section" id="profile-ignores">
        <div class="button ignores-normal">Скрыть сообщения</div>
        <div class="ignores-annoying">Сообщения скрыты <span class="ignores-cancel" title="Отменить"></span></div>
        <div class="ignores-riposte">
            <p class="hint"><span class="ignores-nickname">Этот посетитель</span> тоже перестанет видеть все ваши сообщения, и вы не сможете это отменить</p>
            <div class="button ignores-apply">Да, это меня устраивает</div>
        </div>
    </div>
    <div class="section" id="profile-request">
        <div class="button request-approve">Впустить</div>
        <div class="button request-reject">Не пускать</div>
    </div>
    <div class="section" id="profile-moderate">
        <div class="moder-locked">
            <div class="hint moder-banished">Не может войти без&nbsp;приглашения</div>
            <div class="button moder-banish">Выгнать из комнаты</div>
        </div>
        <div class="moder-opened">
            <div class="moder-decent">
                <div class="button moder-ignore">В игнор!</div>
                <p class="hint">Продолжит писать сообщения, но другие посетители их не увидят</p>
            </div>
            <div class="moder-convict">
                <div class="moder-ignored">В игноре <time class="moder-ago"></time> <span class="moder-release" title="Выпустить"></span></div>
                <p class="hint">Может писать сообщения, но другие посетители их не видят</p>
            </div>
        </div>
        <div class="button moder-erase">Удалить сообщения с <span class="erase-from"></span></div>
    </div>
    <div class="section" id="profile-login">
        <p>Войдите через
            <a class="login-fb" href="/api/login/facebook">Фейсбук</a>,
            <a class="login-vk" href="/api/login/vk">Вконтакте</a> или
            <a class="login-ok" href="/api/login/ok">Одноклассники</a>
        </p>
        <p class="hint">чтобы загрузить оттуда фотографию, общаться с нескольких устройств и создавать свои комнаты</p>
    </div>
    <div class="section" id="profile-logout">
        <a href="/api/logout">Выйти</a>
    </div>
</div>
</div>
</div>

<form id="room-settings" class="popup" novalidate>
<div class="popup-scroll">
<div class="popup-content">
    <div class="admin-sections">
    <div class="section">
        <div class="textfield">
            <label for="edit-room-topic">Название комнаты</label>
            <input type="text" id="edit-room-topic" maxlength="64">
        </div>
        <div class="textfield">
            <label for="edit-room-hash">Адрес комнаты</label>
            <input type="text" id="edit-room-hash" maxlength="32" pattern="[a-zA-Z\d]">
            <p class="hint">Латинские буквы, цифры, +&nbsp;и&nbsp;-, не&nbsp;меньше 3&nbsp;символов</p>
        </div>
    </div>
    <div class="section room-levels">
        <div class="checkbox">
            <span class="checkbox-input"><input type="radio" name="room-level" id="room-level-all" value="0"></span>
            <label for="room-level-all">Вход для всех</label>
        </div>
        <div class="checkbox">
            <span class="checkbox-input"><input type="radio" name="room-level" id="room-level-authorized" value="10"></span>
            <label for="room-level-authorized">Нужна авторизация</label>
            <p class="hint">Все неавторизованные посетители покинут комнату</p>
        </div>
        <div class="checkbox">
            <span class="checkbox-input"><input type="radio" name="room-level" id="room-level-personal" value="20"></span>
            <label for="room-level-personal">По приглашению</label>
            <p class="hint">Для авторизованных посетителей индивидуально</p>
        </div>
        <div class="checkbox">
            <span class="checkbox-input"><input type="radio" name="room-level" id="room-level-admin" value="80"></span>
            <label for="room-level-admin">Только я</label>
        </div>
    </div>
    <div class="section">
        <div class="checkbox">
            <span class="checkbox-input"><input type="checkbox" id="edit-room-searchable"></span>
            <label for="edit-room-searchable">Случайные гости</label>
            <p class="hint">Когда комната не&nbsp;пуста, в&nbsp;неё через поиск комнат будут приходить случайные собеседники</p>
        </div>
    </div>
    </div>
    <div class="section">
        <div class="alarm-off">
            <div class="button">Объявить тревогу</div>
            <p class="hint">Нарушители в&nbsp;игноре не&nbsp;смогут зайти под&nbsp;другим именем</p>
        </div>
        <div class="alarm-on">
            <div class="alarm-active">Тревога <span class="alarm-time"></span> <span class="alarm-cancel" title="Отменить тревогу"></span></div>
            <p class="hint">В&nbsp;комнату не&nbsp;могут войти неавторизованные посетители, открывшие этот сайт впервые. Это&nbsp;помешает нарушителям обойти игнор</p>
        </div>
    </div>
    <div class="submit">
        <button type="submit">Готово</button>
    </div>
    <div class="room-remove">
        <span class="link">Удалить комнату</span>
    </div>
</div>
</div>
</form>

</div>

<script type="text/html" id="speech-template">
<div class="speech">
    <div class="speech-author">
        <div class="userpic" style="background-image: url({userpicUrl});"></div>
        <span class="nickname">{nickname}</span>
    </div>
</div>
</script>

<script type="text/html" id="message-template">
<div class="message" data-id="{message_id}">
    <time class="msg-time" datetime="{created}">{time}</time>
    <p class="msg-text">{content}</p>
</div>
</script>

<script type="text/html" id="user-template">
<div class="user">
    <div class="userpic" style="background-image: url({userpicUrl});"></div>
    <span class="nickname">{nickname}</span>
</div>
</script>

<script src="//code.jquery.com/jquery-2.1.3.min.js"></script>
<script src="/script/utility.js"></script>
<script src="/script/collection.js"></script>
<script src="/script/events.js"></script>
<script src="/script/rest.js"></script>

<script src="/script/models/room.js"></script>
<script src="/script/models/users.js"></script>
<script src="/script/models/userpics.js"></script>
<script src="/script/models/main.js"></script>

<script src="/script/views/hall.js"></script>
<script src="/script/views/side.js"></script>
<script src="/script/views/talk.js"></script>
<script src="/script/views/reply.js"></script>
<script src="/script/views/profile.js"></script>

</body>
</html>
